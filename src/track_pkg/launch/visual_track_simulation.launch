<?xml version="1.0"?>
<launch>
    <!-- 设置ROS日志级别 -->
    <env name="ROSCONSOLE_CONFIG_FILE" 
         value="$(find track_pkg)/config/rosconsole.config"/>

    <!-- 启动Gazebo仿真环境 -->
    <include file="$(find track_pkg)/launch/gazebo_simulation.launch"/>

    <!-- 启动前车遥控节点 -->
    <node pkg="teleop_twist_keyboard" type="teleop_twist_keyboard.py" name="teleop" output="screen">
        <remap from="cmd_vel" to="leader/cmd_vel"/>
        <param name="repeat_rate" value="50.0"/>
        <param name="scale_linear" value="0.5"/>
        <param name="scale_angular" value="1.5"/>
    </node>

    <!-- 启动视觉跟踪节点 -->
    <node pkg="track_pkg" type="kcf_tracker" name="kcf_tracker" output="screen">
        <!-- 话题重映射 -->
        <remap from="cmd_vel" to="/follower/cmd_vel"/>
    </node>

</launch> 